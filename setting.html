{% extends "base2.html" %}

{% block title %}Setting{% endblock %}

{% block content %}
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.6.0/css/bootstrap.min.css" />
<link rel="stylesheet" href="/static/table_style.css" />
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD" crossorigin="anonymous">

    <body style="background-color: #222f3e; color: whitesmoke">
<form method="POST" xmlns="http://www.w3.org/1999/html" class="container mt-5">
    <h3 class="text-center mb-5">Closure Date Setting</h3>

    <div class="form-group row">
        <label for="start_d" class="col-sm-3 col-form-label">Add New Start Date</label>
        <div class="col-sm-9">
            <input type="date" class="form-control" id="start_d" name="start_d" required
                placeholder="Enter Start Date" />
        </div>
    </div>
    <br />
    <div class="form-group row">
        <label for="new_closure_d" class="col-sm-3 col-form-label">Add New Closure Date</label>
        <div class="col-sm-9">
            <input type="date" class="form-control" id="new_closure_d" name="new_closure_d" required
                placeholder="Enter Closure Date" />
        </div>
    </div>
    <br />
    <div class="form-group row">
        <label for="final_closure_d" class="col-sm-3 col-form-label">Add Final Closure Date</label>
        <div class="col-sm-9">
            <input type="date" class="form-control" id="final_closure_d" name="final_closure_d" required
                placeholder="Enter Final Closure Date" />
        </div>
    </div>
    <button type="submit" class="btn btn-primary mt-4">Save</button>
    <br><br><br><label align="right">**The System Will Use the LATEST Inserted Setting Configuration.**</label>
    <table class="table mt-5 table-light">
        <thead class="table-primary">
            <tr class="table__header">
                <th class="table__cell">Created By</th>
                <th class="table__cell">Start Date</th>
                <th class="table__cell">Closure Date</th>
                <th class="table__cell">Final Closure Date</th>
                <th class="table__cell">Saved Date</th>
            </tr>
        </thead>
        <tbody>
            {% for setting in settings|sort(attribute='saved_date', reverse=true) %}
            <tr>
                <td>{{ setting.admin.name }}</td>
                <td>{{ setting.start_date.strftime("%Y-%m-%d") }}</td>
                <td>{{ setting.closure_date.strftime("%Y-%m-%d") }}</td>
                <td>{{ setting.final_date.strftime("%Y-%m-%d") }}</td>
                <td>{{ setting.saved_date.strftime("%Y-%m-%d") }}</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>

</form>
</body>
{% endblock %}